<dom-module id="pratilipi-rating">

	<style>

		.standard iron-icon {
			color: #D0021B;
			width: 20px;
			height: 20px;
		}
		
		.mini {
			display: inline-block;
		}
		
		.mini iron-icon {
			width: 20px;
			height: 16px;
			margin: -4px;
		}
		
	</style>


	<template>
		<div class="rating-stars">
			<iron-icon icon="{{ icon1 }}"></iron-icon>
			<iron-icon icon="{{ icon2 }}"></iron-icon>
			<iron-icon icon="{{ icon3 }}"></iron-icon>
			<iron-icon icon="{{ icon4 }}"></iron-icon>
			<iron-icon icon="{{ icon5 }}"></iron-icon>
			<content></content>
		</div>
		<br class="pratilipi-break"/>
	</template>


	<script>

		Polymer({

			is: 'pratilipi-rating',

			properties: {
				value: { type: Number, observer:"_setValue" },
				mini: { type: Boolean, value: false }
			},
			
			_setZero: function() {
				for( var i = 1; i <= 5; i++ )
					this.set( "icon" + i, "star-border" );
			},
			
			_setValue: function( value ) {
				this._setZero();
				jQuery( this.querySelector( '.rating-stars' ) ).addClass( this.mini == true ? "mini" : "standard" );
				if( this.value >= 0.01 )
					this.set( "icon1" , "star-half" );
				if( this.value >= 0.51 )
					this.set( "icon1" , "star" );
				if( this.value >= 1.01 )
					this.set( "icon2" , "star-half" );
				if( this.value >= 1.51 )
					this.set( "icon2" , "star" );
				if( this.value >= 2.01 )
					this.set( "icon3" , "star-half" );
				if( this.value >= 2.51 )
					this.set( "icon3" , "star" );
				if( this.value >= 3.01 )
					this.set( "icon4" , "star-half" );
				if( this.value >= 3.51 )
					this.set( "icon4" , "star" );
				if( this.value >= 4.01 )
					this.set( "icon5" , "star-half" );
				if( this.value >= 4.51 )
					this.set( "icon5" , "star" );
					
			},
			
			ready: function() {
				this._setValue();
			}

		});

	</script>

</dom-module>